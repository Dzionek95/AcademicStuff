<!DOCTYPE>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatibile" content="IE=edge,chrome=1" />
    <title>Bartłomiej Janik</title>

    <meta name="description" content="Jestem studentem III roku informatyki na Uniwersytetcie Jagiellońskim na wydziale Fizyki Astronomii i Informatyki Stosowanej" />
    <meta name="keywords" content="UJ, FAIS, Bartłomiej, Janik, Informatyka, Portfolio" />
    <link rel="stylesheet" href="stylee.css" />
    <link rel="stylesheet" href="css/fontello.css" />
    <script src="jquery-3.1.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Raleway&amp;subset=latin-ext" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>
    <div id="container">

        <div id="prostokat">
            Bartłomiej Janik
        </div>
        <a href="index.html" class="kafelkihtml5">
            <div class="kafelki"><i class="icon-home"></i><br/>Głowna</div>
        </a>
        <a href="cv.html" class="kafelkihtml5">
            <div class="kafelki"><i class="icon-suitcase"></i><br/>CV</div>
        </a>
        <a href="o.html" class="kafelkihtml5">
            <div class="kafelki"><i class="icon-user-1"></i><br/>O mnie</div>
        </a>

        <a href="projekty.html" class="kafelkihtml5"></a>
        <div class="kafelki"><i class="icon-desktop"></i></br>

            <ul class="menu">
                <li>Projekty
                    <ul class="menu_item">
                        <li><a href="projekt1.html" class="item">Projekt 1</a></li>
                        <li><a href="projekt2.html" class="item">Projekt 2</a></li>
                    </ul>
                </li>
            </ul>

        </div>
        </a>

        <a href="kontakt.html" class="kafelkihtml5">
            <div class="kafelki"><i class="icon-mail-alt"></i></br> Kontakt</div>
        </a>
        <div style="clear:both;"></div>

        <div id="content">
            <center>Informacje o studentach:</br>
                </br>
            </center>
            <p id="table"> </p>
            <center>Panel sterowania dla tablicy informacji o studentach:</br>
                </br>
            </center>
            <div class="buttonsPanel" onclick="printTableSortedByIndeks()">Sortuj po indeksie</div>
            <div class="buttonsPanel" onclick="printTableSortedByFirstName()">Sortuj po imieniu</div>
            <div class="buttonsPanel" onclick="printTableSortedByLastName()">Sortuj po nazwisku</div>
            <div class="buttonsPanel" onclick="printTableSortedByAverage()">Sortuj po średniej</div>
            <div class="buttonsPanel" onclick="printTableSortedByAverageI()">Sortuj po średniej I rok</div>
            <div class="buttonsPanel" onclick="printTableSortedByAverageII()">Sortuj po średniej II rok</div>
            <div style="clear:both;"></div>
            </br>
            <center>Przedmioty, w ktorych student brał udział w danym roku:</br>
                </br>
            </center>
            <div id="wybory">
                <p id="demo"> </p>
                <p id="demo2"></p>
            </div>
            <script>
                var student1 = {
                    "firstName": "Jan",
                    "lastName": "Kowalski",
                    "indeks": "5557813",
                    "birthDate": "29 AUG 1990",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "2",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        4
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        4.5
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            }
                        }
                    }
                };

                var student2 = {
                    "firstName": "Bartlomiej",
                    "lastName": "Janik",
                    "indeks": "1116012",
                    "birthDate": "21 SEP 1995",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        4.5
                                    ],
                                    "lecture": [
                                        3.5
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            }
                        }
                    }
                };

                var student3 = {
                    "firstName": "Włodzimierz",
                    "lastName": "Putin",
                    "indeks": "1111111",
                    "birthDate": "10 FEB 1993",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        3.5
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3.5
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        3.5
                                    ],
                                    "lecture": [
                                        4.5
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        4.5
                                    ],
                                    "lecture": [
                                        3.5
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4.5
                                    ]
                                }
                            }
                        }
                    }
                };

                var student4 = {
                    "firstName": "John",
                    "lastName": "Cena",
                    "indeks": "2214578",
                    "birthDate": "11 SEP 1992",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        4
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        4
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            }
                        }
                    }
                };

                var student5 = {
                    "firstName": "Kuba",
                    "lastName": "Knap",
                    "indeks": "74165849",
                    "birthDate": "30 MAR 1993",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        4.5
                                    ],
                                    "lecture": [
                                        3.5
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            }
                        }
                    }
                };



                var student6 = {
                    "firstName": "Pawel",
                    "lastName": "Borak",
                    "birthDate": "30 SEP 1994",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "indeks": "1119874",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            }
                        }
                    }
                };

                var student7 = {
                    "firstName": "Mikolaj",
                    "lastName": "Swiety",
                    "indeks": "0003265",
                    "birthDate": "24 DEC 1950",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        4
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            }
                        }
                    }
                };


                var student8 = {
                    "firstName": "Andrzej",
                    "lastName": "Kawala",
                    "indeks": "1136518",
                    "birthDate": "24 JAN 1993",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "2",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        4
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            }
                        }
                    }
                };

                var student9 = {
                    "firstName": "Kuba",
                    "lastName": "Szumny",
                    "indeks": "1009332",
                    "birthDate": "08 SEP 1998",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        4
                                    ],
                                    "lecture": [
                                        5
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        4.5
                                    ],
                                    "lecture": [
                                        4.5
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            }
                        }
                    }
                };

                var student10 = {
                    "firstName": "Piotr",
                    "lastName": "Janik",
                    "indeks": "1119332",
                    "birthDate": "23 JUL 1998",
                    "average": " ",
                    "Prok": " ",
                    "Drok": " ",
                    "yearOfStudy": "3",
                    "courses": {
                        "y2014": {
                            "AlgorithmsI": {
                                "grades": {
                                    "exercices": [
                                        5
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            },
                            "BasicPhysicsI": {
                                "grades": {
                                    "exercices": [
                                        4
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "ProgrammingI": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            }
                        },
                        "y2015": {
                            "ProgrammingII": {
                                "grades": {
                                    "exercices": [
                                        2
                                    ],
                                    "lecture": [
                                        2
                                    ]
                                }
                            },
                            "BasicPhysicsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        3
                                    ]
                                }
                            },
                            "AlgorithmsII": {
                                "grades": {
                                    "exercices": [
                                        3
                                    ],
                                    "lecture": [
                                        4
                                    ]
                                }
                            }
                        }
                    }
                };

                var students = new Array(student1, student2, student3, student4, student5, student6, student7, student8, student9, student10);

                function displayArrayWithStudents(students) {
                    document.getElementById("table").innerHTML = "";

                    var newTable = "<table>";
                    newTable += "<tr>" + "<td>" + "<b>" + "Indeks" + "</b>" + "</td>" +
                        "<td>" + "<b>" + "Imię" + "</b>" + "</td>" +
                        "<td>" + "<b>" + "Nazwisko" + "</b>" + "</td>" +
                        "<td>" + "<b>" + "Średnia ogolna" + "</b>" + "</td>" + "<td>" + "<b>" + "I rok" + "</b>" + "</td>" + "<td>" + "<b>" + "II rok" + "</b>" + "</td>" + "</tr>";
                    for (var j = 0; j < 10; ++j) {
                        newTable += "<tr>";
                        newTable += "<td>" + students[j].indeks + "</td>" + "<td>" + students[j].firstName + "</td>" + "<td>" + students[j].lastName + "</td>" + "<td>" + Math.round(getAverage(students[j]) * 100) / 100 + "</td>" + "<td>" + Math.round(getAverageYear(students[j], 1) * 100) / 100 + "</td>" + "<td>" + Math.round(getAverageYear(students[j], 2) * 100) / 100 + "</td>";

                        newTable += "</tr>";
                    }
                    newTable += "</table>";

                    document.getElementById("table").innerHTML = newTable;
                }

                displayArrayWithStudents(students);

                function printTableSortedByLastName() {
                    sortByKey(students, "lastName");
                    displayArrayWithStudents(students);
                }

                function printTableSortedByFirstName() {
                    sortByKey(students, "firstName");
                    displayArrayWithStudents(students);
                }

                function printTableSortedByIndeks() {
                    sortByKey(students, "indeks");
                    displayArrayWithStudents(students);
                }

                function printTableSortedByAverage() {
                    sortByKey2(students, "average");
                    displayArrayWithStudents(students);
                }

                function printTableSortedByAverageI() {
                    sortByKey2(students, "Prok");
                    displayArrayWithStudents(students);
                }

                function printTableSortedByAverageII() {
                    sortByKey2(students, "Drok");
                    displayArrayWithStudents(students);
                }

                function sortByKey(array, key) {
                    return array.sort(function(a, b) {
                        var x = a[key];
                        var y = b[key];
                        return ((x < y) ? -1 : ((x > y) ? 1 : 0));
                    });
                }

                function sortByKey2(array, key) {
                    return array.sort(function(a, b) {
                        var x = a[key];
                        var y = b[key];
                        return ((x > y) ? -1 : ((x < y) ? 1 : 0));
                    });
                }



                function getAverage(student) {
                    var counter = 0;
                    var sum = 0;
                    for (var years in student.courses) {
                        var course = student.courses[years];
                        for (var subjects in course) {
                            var grade = course[subjects];
                            for (var grades in grade) {
                                var exercices = grade[grades];
                                for (var gradeType in exercices) {
                                    var typesOfSubjects = exercices[gradeType];
                                    for (var value in typesOfSubjects) {
                                        var suma = typesOfSubjects[value];
                                        sum += suma;
                                        counter++;
                                    }
                                }
                            }
                        }
                    }
                    student.average = Math.round(sum / counter * 100) / 100;
                    return sum / counter;
                }


                function getAverageYear(student, year) {
                    var counter = 0;
                    var sum = 0;
                    var whichYear = 0;
                    if (year == 1) {
                        whichYear = "y2014"
                    }
                    if (year == 2) {
                        whichYear = "y2015"
                    }
                    var course = student.courses[whichYear];
                    for (var subjects in course) {
                        var grade = course[subjects];
                        for (var grades in grade) {
                            var exercices = grade[grades];
                            for (var gradeType in exercices) {
                                var typesOfSubjects = exercices[gradeType];
                                for (var value in typesOfSubjects) {
                                    var suma = typesOfSubjects[value];
                                    sum += suma;
                                    counter++;

                                }
                            }
                        }
                    }
                    if (year == 1) {
                        student.Prok = sum / counter;
                    }
                    if (year == 2) {
                        student.Drok = sum / counter;
                    }
                    return sum / counter;
                }



                function makePickerOfStudents(studenci) {

                    var form = "Wybierz studenta:";
                    form += "<form>" + '<select id="first">';
                    for (var i = 0; i < students.length; ++i) {
                        form += "<option>" + students[i].firstName + " " + students[i].lastName + "</option>";
                    }
                    form += "</select>" + "</br>";
                    form += "Wybierz rok:" + "</br>";
                    form += '<select id="second">' + "<option>" + "1" + "</option>" + "<option>" + "2" + "</option>" + "</select>" + "</br>" + "</br>";
                    form += '<input type="button" onclick="printArrayWithSubjects()" value="Wyświetl">';
                    form += "</form>";

                    document.getElementById("demo").innerHTML = form;
                }

                makePickerOfStudents(students);

                function printArrayWithSubjects() {
                    var getStudent = document.getElementById("first");
                    var getYear = document.getElementById("second");
                    document.getElementById("demo2").innerHTML = "";
                    getSubjectsList(students[getStudent.selectedIndex], getYear.selectedIndex + 1);

                }

                function getSubjectsList(student, year) {

                    var whichYear = 0;
                    if (year == 1) {
                        whichYear = "y2014"
                    }
                    if (year == 2) {
                        whichYear = "y2015"
                    }
                    for (var years in student.courses) {
                        var course = student.courses[whichYear];
                        for (var subjects in course) {
                            document.getElementById("demo2").innerHTML += subjects;
                            document.getElementById("demo2").innerHTML += "</br>";
                        }
                    }
                }
            </script>



        </div>
        <div id="footer">All rights reserved

        </div>

    </div>

</body>

</html>
